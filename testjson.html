<div id="result"></div>

<script>

let newStudent = {
  "name" : "이순신",
  "major" : "해양공학",
  "grade" : 4
};

let xhr = new XMLHttpRequest();
xhr.open("GET", "students.json");
xhr.send();

xhr.onreadystatechange = function () {
  if (xhr.readyState === 4 && xhr.status === 200) {
    let students = JSON.parse(xhr.responseText);
    // add the new student to the array
    students.push(newStudent);
    // write the updated array back to the file
    let updatedData = JSON.stringify(students);
    // create a new file object and write the updated data to it
    let file = new File([updatedData], "updated-students.json", {type: "application/json"});
    // display a confirmation message in the result div
    document.getElementById("result").innerHTML = "JSON file updated successfully!";
  }
};

</script>
